# Операции с дисками



## Команда fdisk

> fdisk - это утилита для создания и обслуживания разделов дисковых устройств.

```bash
[ubuntu@book:~]$ fdisk -l   //список всех дисковых устройств в системе
[ubuntu@book:~]$ fdisk /dev/sdc //работа с устройством с узлом устройства /dev/sdc
```

* p : отображение всех разделов.
* d: удаление раздела.
* n: создание нового раздела.
* t : изменение типа раздела.
* w: сохранение изменений и выход.
* m: отображение справочной информации.





## gparted

> Графический инструмент для работы с разделами.

```bash
[ubuntu@book:~]$ sudo apt install gparted
```





## mkfs.fat

> Форматирование раздела в тип fat32

```bash
[ubuntu@book:~]$ sudo mkfs.fat /dev/sdc1
```



## mkfs.ext2/3/4

> Форматирование файловой системы в тип Linux EXT.

```bash
[ubuntu@book:~]$ sudo mkfs.ext4 /dev/sdc2
```



## Команда mount

> Монтирование внешних разделов дисков или каталогов.

```ba
[ubuntu@book:~]$ sudo mount -t vfat /dev/sdc1 /mnt
[ubuntu@book:~]$ sudo umount /mnt
[ubuntu@book:~]$ sudo umount /dev/sdc1

[ubuntu@book:~]$ sudo mount -t ext4 /dev/sdc2 /mnt
[ubuntu@book:~]$ sudo umount /mnt
[ubuntu@book:~]$ sudo umount /dev/sdc2
```



## Команда df

> Отображение использования дискового пространства файловой системой в Linux.

```bash
[ubuntu@book:~]$ df  //отображение использования дискового пространства файловой системой
[ubuntu@book:~]$ df -h  //отображение использования диска в удобочитаемой форме
```





## Команда du

> Используется для отображения размера каталогов или файлов.

```bash
[ubuntu@book:~]$ du 		//отображение размера всех файлов и каталогов в текущем каталоге
[ubuntu@book:~]$ du -h   //отображение размера всех файлов и каталогов в более наглядной форме
[ubuntu@book:~]$ du dir -h  //отображение размера каталога dir в более наглядной форме
[ubuntu@book:~]$ du  file1  //отображение размера файла file1
[ubuntu@book:~]$ du  dir -h --max-depth=1 //отображение каталога dir в более наглядной форме с глубиной только 1 уровень
```



## Команда dd

> Команда dd используется для операций чтения и преобразования данных.

```ba
[ubuntu@book:~]$ dd --help   //просмотр справки по команде dd
[ubuntu@book:~]$ dd if=/dev/zero of=dd.img count=1024 bs=1M //создание образа dd.img размером 1G
[ubuntu@book:~]$ mkfs.ext4 dd.img  //форматирование в тип файловой системы ext4
[ubuntu@book:~]$ sudo mount -t ext4 dd.img /mnt  //монтирование в каталог /mnt для последующих операций
[ubuntu@book:~]$ sudo umount /mnt  //размонтирование смонтированного образа после завершения операций
```
