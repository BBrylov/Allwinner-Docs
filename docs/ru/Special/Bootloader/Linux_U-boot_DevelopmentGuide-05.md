## 6 Введение в основные методы отладки

Введение в отладочную информацию debug:

1. debug_mode

   debug_mode может управлять уровнем вывода Boot0. Откройте файл {LICHEE_BOARD_CONFIG_DIR}/sys_config.fex, под главным ключом [platform] добавьте подключ "debug_mode = 8", что означает включение всего вывода. debug_mode=0 означает отключение вывода логов Boot0 при загрузке. Если debug_mode не настроен явно, обрабатывается как debug_mode=8. В настоящее время часто используемые уровни вывода: 0 (отключить весь вывод), 1 (показывать только ключевые точки вывода), 4 (выводить информацию об ошибках), 8 (выводить всю информацию логов).

   debug_mode может управлять уровнем вывода U-Boot. Откройте файл {LICHEE_BOARD_CONFIG_DIR}/b3/uboot-board.dts, под узлом platform добавьте подключ "debug_mode = 8", что означает включение всего вывода. debug_mode=0 означает отключение вывода логов U-Boot при загрузке. Если debug_mode не настроен явно, обрабатывается как debug_mode=8. В настоящее время часто используемые уровни вывода: 0 (отключить весь вывод), 1 (показывать только ключевые точки вывода), 4 (выводить информацию об ошибках), 8 (выводить всю информацию логов).

2. usb_debug В процессе прошивки или загрузки, если встречается сбой прошивки или сбой загрузки, примерно зависающий в модулях, связанных с usb, но точное место неясно, в этом случае можно открыть usb_debug для отладки. После включения usb_debug информация о работе, связанная с usb, будет выводиться более подробно. Способ открытия usb_debug: откройте файл usb_base.h, откройте макроопределение #define SUNXI_USB_DEBUG в нём. После открытия перекомпилируйте U-Boot, упакуйте и прошейте.



## 7 Методы входа в режим прошивки

1. При загрузке удерживайте клавишу fel

2. При загрузке откройте последовательный порт и удерживайте цифру '2' на клавиатуре

3. Войдите в консоль U-Boot и введите efex

4. Войдите в консоль Android и введите reboot efex
